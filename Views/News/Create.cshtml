
@model bds.Models.News

@{
    ViewData["Title"] = "Đăng tin tức";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="container mt-4 mb-5">
    <div class="card shadow-lg border-0 rounded-4">
        <div class="card-header bg-primary text-white rounded-top-4 d-flex justify-content-between align-items-center">
            <h4 class="mb-0"><i class="bi bi-newspaper"></i> Đăng tin tức mới</h4>
            <a asp-action="Index" class="btn btn-light btn-sm">
                <i class="bi bi-arrow-left"></i> Quay lại
            </a>
        </div>

        <div class="card-body p-4">

            @if (TempData["Success"] != null)
            {
                <div class="alert alert-success text-center fw-semibold shadow-sm rounded-pill" role="alert">
                    @TempData["Success"]
                </div>
            }

            <form asp-action="Create" method="post" enctype="multipart/form-data" class="mt-3">
                @Html.AntiForgeryToken()

                <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                <!-- Tiêu đề -->
                <div class="mb-3">
                    <label asp-for="Title" class="form-label fw-semibold">Tiêu đề bài viết</label>
                    <input asp-for="Title" class="form-control form-control-lg" placeholder="Nhập tiêu đề tin tức..." required />
                    <span asp-validation-for="Title" class="text-danger"></span>
                </div>

                <!-- Nội dung (CKEditor) -->
                <div class="mb-3">
                    <label asp-for="Content" class="form-label fw-semibold">Nội dung chi tiết</label>
                    <textarea asp-for="Content" class="form-control" id="editor" rows="8" placeholder="Nhập nội dung bài viết..."></textarea>
                    <span asp-validation-for="Content" class="text-danger"></span>
                </div>

                <!-- CKEditor 5 -->
                <script src="https://cdn.ckeditor.com/ckeditor5/41.3.1/classic/ckeditor.js"></script>
                <script>
                    ClassicEditor
                        .create(document.querySelector('#editor'), {
                            toolbar: [
                                'heading', '|', 'bold', 'italic', 'underline', 'link',
                                '|', 'bulletedList', 'numberedList', 'blockQuote',
                                '|', 'undo', 'redo'
                            ],
                            heading: {
                                options: [
                                    { model: 'paragraph', title: 'Đoạn văn', class: 'ck-heading_paragraph' },
                                    { model: 'heading1', view: 'h2', title: 'Tiêu đề lớn', class: 'ck-heading_heading1' },
                                    { model: 'heading2', view: 'h3', title: 'Tiêu đề nhỏ', class: 'ck-heading_heading2' }
                                ]
                            },
                            placeholder: 'Nhập nội dung bài viết tại đây...'
                        })
                        .catch(error => console.error(error));
                </script>

                <!-- Ảnh đại diện -->
                <div class="mb-3">
                    <label class="form-label fw-semibold">Ảnh đại diện (chọn 1 ảnh)</label>
                    <input type="file" name="imageFiles" class="form-control" accept="image/*" />
                    <div class="form-text text-muted">Ảnh này sẽ hiển thị ở danh sách tin tức.</div>
                </div>

                <!-- Nút hành động -->
                <div class="d-flex justify-content-end mt-4">
                    <button type="submit" class="btn btn-success btn-lg px-5 shadow-sm">
                        <i class="bi bi-upload"></i> Đăng tin
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}





